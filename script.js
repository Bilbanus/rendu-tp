const structureTP = [
    { 
        id: "tp1", 
        exercices: [
            { nom: "exercice1", comm: "Connaissances utilisées : J’ai travaillé sur la structure et la signification des tableaux en HTML.Niveau de difficulté : Très élevé.Intérêt de l’exercice : Je trouve cet exercice utile pour bien comprendre la balise table et apprendre à organiser et structurer une page web.Qualité du résultat : Le rendu correspond à l’exemple, mais c’était assez difficile à réaliser." },
            { nom: "exercice2", comm: "Connaissances utilisées : J’ai travaillé sur le box model, les marges et le positionnement en CSS.Niveau de difficulté : Même niveau que le premier exercice, assez compliqué : le rendu ne ressemblait jamais exactement à l’exemple, avec des blocs qui se décalent, des lignes qui dépassent ou des dimensions différentes.Intérêt de l’exercice : Utile pour bien comprendre et maîtriser les mises en page.Qualité du résultat : J’ai fait de mon mieux pour que ça ressemble à l’exemple." }
        ] 
    },
    { 
        id: "tp2", 
        exercices: [
            { nom: "Exercice2", comm: "Connaissances utilisées : J’ai travaillé avec les variables JavaScript, la gestion d’événements et la manipulation du DOM.Niveau de difficulté : Très difficile, surtout pour la gestion d’événements et la mise en forme, avec les mêmes problèmes que dans le TP 1.Intérêt de l’exercice : Essentiel pour rendre une page interactive et comprendre la structure ainsi que la disposition des événements.Qualité du résultat : J’ai fait de mon mieux pour que tout fonctionne correctement après quelques corrections afin de remplir les conditions de l’exercice." },
            { nom: "Exercice3", comm: "Connaissances utilisées : J’ai revu la structure HTML et l’intégration d’images.Niveau de difficulté : Très difficile, comme dans le TP1 ou même le TP2 exercice 2, à cause de la mise en forme de la structure.Intérêt de l’exercice : Bon rappel des balises de base.Qualité du résultat : Conforme à ce qui était demandé sur l’exercice, amélioré grâce aux corrections du TP2 exercice 2." }
        ] 
    },
    { 
        id: "tp3", 
        exercices: [
            { nom: "exercice 1", comm: "Connaissances utilisées : J’ai utilisé des media queries et les principes du responsive design.Niveau de difficulté : Facile mais compliqué à réaliser. J’ai bien réussi le fait que les couleurs changent quand on modifie la page, mais le problème était qu’elles devaient changer à chaque fois que on changer la taille de la fenêtre de l'écran, ce que je n’arrivais pas à faire. J’ai dû refaire plusieurs fois le code et faire plusieurs tests. Intérêt de l’exercice : Indispensable pour apprendre à adapter l’interface aux différentes tailles d’écran.Qualité du résultat : Conforme à l’exercice et très amusant à tester, surtout en changeant les couleurs selon ses préférences." },
            { nom: "Exercice3", comm: "Connaissances utilisées : J’ai travaillé sur un menu responsive, les transitions CSS et le toggle en JavaScript.Niveau de difficulté : Difficile, car le menu doit aussi être adapté pour le mobile. Parfois le menu hamburger bugue, ce qui rend la correction compliquée.Intérêt de l’exercice : Très formateur pour coder et comprendre l’affichage et l’expérience utilisateur sur mobile.Qualité du résultat : Fonctionnel, mais pourrait être amélioré sur les petits écrans." }
        ] 
    },
    { 
        id: "tp4", 
        exercices: [
            { nom: "exercice1", comm: "Connaissances utilisées : J’ai travaillé sur l’association de couleurs avec du texte et des éléments interactifs.Niveau de difficulté : Assez simple, même s’il y avait quelques bugs, par exemple la couleur orange du paragraphe 1 était aussi appliquée au paragraphe 2.Intérêt de l’exercice : Utile pour réfléchir à des créations numériques, en rendant les boutons plus interactifs et en les associant à un texte ou une image selon leur couleur.Qualité du résultat : Simple mais efficace, avec une bonne idée d’interactivité." },
            { nom: "exercice3", comm: "Connaissances utilisées : J’ai utilisé des sélecteurs CSS et stylisé des tableaux.Niveau de difficulté : Difficile surtout pour la mise en forme et la stylisation du tableau, mais pour le reste c’était plutôt simple.Intérêt de l’exercice : Utile pour bien maîtriser les sélecteurs avancés.Qualité du résultat : Satisfaisant après plusieurs essais." }
        ] 
    },
    { 
        id: "tp5", 
        exercices: [
            { nom: "exercice 2", comm: "Connaissances utilisées : J’ai travaillé sur la manipulation du DOM et la gestion des événements de scroll.Niveau de difficulté : Difficile, car je voulais créer un effet de dégradé : que le rouge apparaisse progressivement quand on fait défiler la page, plutôt que d’apparaître d’un coup.Intérêt de l’exercice : Très formateur pour comprendre le comportement dynamique des éléments.Qualité du résultat : Fonctionnel," },
            { nom: "exercice 6", comm: "Connaissances utilisées : J’ai travaillé sur les effets parallax et les transformations CSS/JS.Niveau de difficulté : Facile à moyen. Au début je pensais que c’était la même idée que dans le TP précédent, où il fallait changer une image en scrollant après avoir appuyé sur un bouton,mais ce n’était pas du tout pareil.Intérêt de l’exercice : Intéressant pour apprendre les animations, très pratique pour réaliser des animations simples.Qualité du résultat : Très satisfaisant, même si les images restent les mêmes, le rendu correspond parfaitement à ce qui était demandé." }
        ] 
    },
    { 
        id: "tp6", 
        exercices: [
            { nom: "ex3", comm: "Connaissances utilisées : J’ai utilisé des animations JavaScript et des calculs de position.Niveau de difficulté : Difficile, car l’hélice bougeait sans rester à sa place. J’ai pris de mauvaises mesures, et on ne la voyait presque pas à certains moments.Intérêt de l’exercice : Utile pour apprendre à contrôler le rendu par code.Qualité du résultat : Pas entièrement satisfait, l’hélice pourrait être meilleure et plus réaliste." },
            { nom: "exercice 5", comm: "Connaissances utilisées : J’ai travaillé sur la logique JavaScript avancée et les fonctions réutilisables.Niveau de difficulté : Difficile, car il fallait créer sa propre bannière. J’ai voulu faire quelque chose de plus compliqué avec deux parties de couleur rouge et bleu. J’ai aussi eu un bug avec un trait néon au milieu de ma bannière que j’ai réussi à corriger. J’ai essayé d’ajouter un effet néon au centre, mais comme je n’y arrivais pas, j’ai demandé de l’aide à plusieurs camarades.J’ai dû refaire deux fois la bannière pour respecter les dimensions et la position demandées.Intérêt de l’exercice : Important pour apprendre à structurer le code dans des projets et créer une bannière sans outil de creation Qualité du résultat : Fonctionnel et beaux" }
        ] 
    },
    { 
        id: "tp7", 
        exercices: [
            { nom: "Exo3", comm: "Connaissances utilisées : J’ai créé des fonctions et géré les inputs des utilisateurs.Niveau de difficulté : Difficile, car il y avait beaucoup d’options à ajouter. Mon plus grand problème était que les changements ne se cumulaient pas et recommençaient à chaque clic sur une option.Intérêt de l’exercice : Bon exercice pour apprendre à structurer l’interactivité.Qualité du résultat : Fonctionnel, mais le code pourrait être plus simple et mieux organisé." },
            { nom: "exo5", comm: "Connaissances utilisées : J’ai manipulé le DOM et modifié des images.Niveau de difficulté : Moyen, le plus compliqué était de gérer les dimensions et la mise en forme.Intérêt de l’exercice : Pratique pour travailler le visuel et les interactions.Qualité du résultat : Correct après quelques essais." }
        ] 
    },
    { 
        id: "tp8", 
        exercices: [
            { nom: "exo1", comm: "Connaissances utilisées : J’ai utilisé des scripts simples et la logique JavaScript de base.Niveau de difficulté : Très difficile, car il fallait d’abord créer les limites de la « carte » pour que le personnage ne sorte pas, et ensuite ajuster ses mesures pour que les bonnes animations s’activent selon les touches. Le problème maintenant, c’est que mon personnage tourne comme une toupie quand il marche.Intérêt de l’exercice : Pratique pour créer des jeux vidéo simples et des animations en pixel 2D.Qualité du résultat : Mon personnage est devenu une toupie." },
            { nom: "exo2", comm: "Connaissances utilisées : J’ai travaillé sur les événements, les timers et des animations simples.Niveau de difficulté : Mixte, facile pour le défilement d’image et faire courir un personnage,car nous l’avions déjà vu dans un TP précédent, mais difficile pour centrer Mario correctement afin qu’il marche sur le sol.Intérêt de l’exercice : Utile pour comprendre le timing et les interactions entre les éléments.Qualité du résultat : Fonctionnel, mais Mario flotte encore un peu." }
        ] 
    }
];

const allCards = [];
structureTP.forEach(tp => {
    tp.exercices.forEach(exo => {
        allCards.push({
            titre: `${tp.id.toUpperCase()} - ${exo.nom}`,
            commentaire: exo.comm,
            lien: `${tp.id}/${exo.nom}/index.html`
        });
    });
});

const container = document.getElementById('tp-container');
const modal = document.getElementById('tp-modal');
const closeModal = document.querySelector('.close-modal');

function displayCards() {
    if (!container) return;
    container.innerHTML = "";

    allCards.forEach(cardData => {
        const card = document.createElement('div');
        card.className = 'tp-card';
        card.innerHTML = `
            <h3>${cardData.titre}</h3>
            <button class="btn-open-modal">Détails & Accès</button>
        `;

        card.querySelector('.btn-open-modal').addEventListener('click', () => {
            document.getElementById('modal-title').innerText = cardData.titre;
            document.getElementById('modal-comment').innerText = cardData.commentaire;
            document.getElementById('modal-link').href = cardData.lien;
            modal.style.display = "block";
        });

        container.appendChild(card);
    });
}

if (closeModal) {
    closeModal.onclick = () => modal.style.display = "none";
}

window.onclick = (event) => {
    if (event.target == modal) modal.style.display = "none";
};

document.addEventListener('DOMContentLoaded', displayCards);